<link rel="import" href="../../webcomponentsjs/webcomponents-lite.min.js"/><link rel="import" href="/../../iron-iconset/iron-iconset.html"/><link rel="import" href="../../paper-dialog/paper-dialog.html"/><link rel="import" href="../../paper-dialog-scrollable/paper-dialog-scrollable.html"/><link rel="import" href="../../paper-button/paper-button.html"/><link rel="import" href="../../paper-input/paper-input.html"/><link rel="import" href="../../paper-icon-button/paper-icon-button.html"/><link rel="import" href="../../iron-ajax/iron-ajax.html"/><link rel="import" href="../../iron-icons/iron-icons.html"/><link rel="import" href="../../iron-meta/iron-meta.html"/><dom-module id="polymer-login"><template><iron-meta id="LoginMeta" key="user" value="{{status}}"></iron-meta><iron-ajax id="TryLogin" method="POST" url="[[loginRoute]]" handle-as="json" on-error="loginError" on-response="loginResponse"></iron-ajax><iron-ajax id="TryLogout" url="[[logoutRoute]]" params="{&quot;user&quot;:&quot;name&quot;, &quot;pass&quot;:&quot;word&quot;}" handle-as="json" on-response="logoutResponse"></iron-ajax><paper-dialog id="LoginDialog"><h2>Login</h2><div><paper-input id="InputUserName" label="Username" type="text" autofocus="true"></paper-input><paper-input id="InputPassword" label="Password" type="password"></paper-input></div><div class="buttons"><paper-button dialog-dismiss="dialog-dismiss">Cancel</paper-button><paper-button on-click="tryLogin">Login</paper-button></div></paper-dialog><paper-dialog id="LogoutDialog"><h2>Login</h2><div><Do>you really want to log out?</Do></div><div class="buttons"><paper-button dialog-dismiss="dialog-dismiss">No</paper-button><paper-button on-click="tryLogout">Yes</paper-button></div></paper-dialog><template is="dom-if" if="{{!status.loggedIn}}"><paper-icon-button icon="account-box" on-click="openLoginDialog"></paper-icon-button></template><template is="dom-if" if="{{status.loggedIn}}"><paper-icon-button icon="account-circle" on-click="openLogoutDialog"></paper-icon-button></template></template><script src="./polymer-login.js"></script></dom-module>